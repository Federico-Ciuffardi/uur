#!/usr/bin/env bash

function fin(){
  cd
  git clone https://github.com/Federico-Ciuffardi/naylib.git
  cd naylib
  sudo make install
  cd ..
  rm -rf naylib
  exit 0
}

while true ; do
  printf "1-Arch\n2-Ubuntu\n3-Termux\nEnter current distro: "
  read awns
  case $awns in
    1)
      yay -Q "lsb-release" &> /dev/null || sudo pacman -S lsb-release
      fin
      ;;
    2)
      sudo apt update
      dpkg -s "$$" &>/dev/null || sudo apt install lsb-release
      fin
      ;;
    3)
      dpkg -s "proot" &>/dev/null || pkg install proot
      echo "ls / &>/dev/null || termux-chroot" > "$HOME/.bashrc"
      source "$HOME/.bashrc" 
      printf '#!/bin/bash\n$@' > /bin/sudo
      chmod +x /bin/sudo
      fin
      ;;
    *)
      printf "Invalid awns\n"
      ;;
  esac
done
